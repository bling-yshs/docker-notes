# docker-notes

## 基础概念

### 镜像

镜像是 docker 的基础元素，我们从网上使用 `docker pull` 命令下载下来的东西就叫做镜像

### 容器

容器都是由镜像创建出来的，当我们使用 `docker run` 命令的时候，docker 自动就会帮我们创建一个容器，每个容器都是一个独立的 linux 系统，不过可能是不同的 linux 发行版。一个镜像可以创建多个不同名字的容器，但是一般都是一对一的关系，因为没人莫名其妙会去创建多个容器玩

## 基础操作

### 拉取镜像

``` bash
docker pull xxx
```

最常用的 docker 镜像：alpine ，alpine 是一个非常轻量的 linux 发行版，所以很多镜像都以这个作为基础，打包出来的镜像体积会很小

所以下面都以

``` bash
docker pull alpine
```

为基础

### 查看所有镜像

``` bash
docker images
```

如果你刚刚执行过上面的 pull 命令的话，那么你就可以在控制台看到你刚刚下载的镜像

### 创建一个容器并运行

``` bash
docker run --name c01 alpine
```

|参数|说明|备注|
|---|---|---|
|run|从镜像创建一个容器并运行||
|--name c01|自定义容器名为 c01|如果没有 --name 参数则 docker 会取一个随机名字|
|alpine|代表从 alpine 镜像创建容器||

但是我们运行之后发现，容器一启动就停止了，这是因为 docker 的默认策略就是如果容器内没有任务就会自动停止，所以如果你在学习阶段想让某个容器持续运行，那么可以使用

``` bash
docker run -d --name c02 alpine tail -f /dev/null
```

|参数|说明|备注|
|---|---|---|
|-d|使容器在后台运行||
|tail -f /dev/null|代表在容器内运行的命令|该命令是一种让容器持续运行的常用手段|

打开容器的终端：

``` bash
docker exec -it c02 sh
```

|参数|说明|备注|
|---|---|---|
|-it|是 -i -t 参数的结合体||
|-i|表示将容器的标准输入（stdin）保持打开状态。这允许你与容器进行交互，例如通过键盘输入命令或数据||
|-t|表示为容器分配一个伪终端（pseudo-TTY）。这会模拟一个终端设备，使得容器内的命令输出能够以易读的方式显示在终端上||
|exec|在容器中执行某条命令||
|sh|打开终端||

从容器内退出：

``` bash
exit
```

创建一个容器并打开它的终端

``` bash
docker run -it --name c02 alpine sh
```

### 停止容器

``` bash
docker stop c02
```

### 删除容器

#### 删除单个容器

``` bash
docker rm -f c02
```

|参数|说明|备注|
|---|---|---|
|-f|强制删除某个容器，即使它还在运行中||

#### 删除所有容器

``` bash

```

### 查看镜像内容

有时候我们只想提前看看容器里有什么，而不想手动创建再手动删除，那么可以使用命令

``` bash
docker run -it --rm alpine
```

|参数|说明|备注|
|---|---|---|
|--rm|在退出容器后删除该容器||

## Dockerfile
